{% extends "layout.html" %}
{% block content %}
<div class="col-md-8 mx-auto mt-4">
    <h3 class="text-center mb-3">Register</h3>
    <form method="POST">
        <div class="row">
            <div class="col-md-4 mb-3">
                <label>Username</label>
                <input type="text" name="username" class="form-control" required>
            </div>
            <div class="col-md-4 mb-3">
                <label>Password</label>
                <input type="password" name="password" class="form-control" required>
            </div>
            <div class="col-md-4 mb-3">
                <label>User Type</label>
                <select name="user_type" class="form-select" required onchange="toggleForms(this.value)">
                    <option value="">Select...</option>
                    <option value="donor">Donor</option>
                    <option value="hospital">Hospital</option>
                    <option value="blood_bank">Blood Bank</option>
                </select>
            </div>
        </div>

        <!-- Donor form -->
        <div id="donorForm" style="display:none;">
            <h5 class="mt-3">Donor Details</h5>
            <div class="row">
                <div class="col-md-4 mb-2"><input name="name" class="form-control" placeholder="Full Name"></div>
                <div class="col-md-4 mb-2"><input name="blood_type" class="form-control" placeholder="Blood Type"></div>
                <div class="col-md-4 mb-2"><input name="age" class="form-control" placeholder="Age"></div>
                <div class="col-md-4 mb-2"><input name="gender" class="form-control" placeholder="Gender"></div>
                <div class="col-md-4 mb-2"><input name="contact" class="form-control" placeholder="Contact"></div>
                <div class="col-md-4 mb-2"><input name="address" class="form-control" placeholder="Address"></div>
                <div class="col-md-12 mb-2"><input name="medical_history" class="form-control" placeholder="Medical History"></div>
                <div class="col-md-4 mb-2"><input name="availability_type" class="form-control" placeholder="Availability (Full/Part)"></div>
            </div>
        </div>

        <!-- Hospital or Blood Bank form -->
        <div id="orgForm" style="display:none;">
            <h5 class="mt-3">Organization Details</h5>
            <div class="row">
                <div class="col-md-4 mb-2"><input name="org_name" class="form-control" placeholder="Organization Name"></div>
                <div class="col-md-4 mb-2"><input name="location" class="form-control" placeholder="Location"></div>
                <div class="col-md-4 mb-2"><input name="contact" class="form-control" placeholder="Contact"></div>
            </div>
        </div>

        <button class="btn btn-danger w-100 mt-3">Register</button>
    </form>
</div>

<script>
function toggleForms(type) {
    document.getElementById('donorForm').style.display = (type === 'donor') ? 'block' : 'none';
    document.getElementById('orgForm').style.display = (type === 'hospital' || type === 'blood_bank') ? 'block' : 'none';
}
</script>
{% endblock %}
